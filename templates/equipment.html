<!DOCTYPE html>
<html>
<head>
    {% extends 'base.html' %}
    {% block title %}Predictive Maintenance Dashboard - Index{% endblock %}
</head>
<body>
    {% block content %}
  <!-- Sidebar -->
  <div class="container-fluid">
      <div class="row">
          <!-- Sidebar -->
          <div id="mySidenav" class="sidenav">
              <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
              <a href="#">Home</a>
              <a href="#">Main Dashboard</a>
              <a href="#">Predictions</a>
              <a href="#">Equipment Health Monitoring</a>
              <a href="#">Inventory</a>
              <a href="#">Calendar</a>
              <a href="card.html">Equipment Summary</a>
          </div>

          <!-- Main Content -->
          <div class="col-12">
            <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>
            <select id="equipment-select">
                {% for equipment_name in equipment_names %}
                  <option value="{{ equipment_name }}">{{ equipment_name }}</option>
                {% endfor %}
            </select>
            <select id="unique-id-select"></select>
        
            <div class="row">
                <div class="col-8 d-flex">
                    <div class="card equipcard">
                        <div class="box">
                            <canvas id="myChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-4 d-flex">
                    <div class="card equipcard">
                        <div class="box">
                            <h5>Maintenance History</h5>
                            <table class="table table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Equipment Name</th>
                                        <th scope="col">Maintenance Date</th>
                                        <th scope="col">Maintenance Type</th>
                                        <th scope="col">Description of Work</th>
                                        <th scope="col">Cost</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>Equipment1</td>
                                        <td>2024-01-01</td>
                                        <td>Preventive</td>
                                        <td>Replaced filter</td>
                                        <td>$100</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>Equipment2</td>
                                        <td>2024-02-01</td>
                                        <td>Corrective</td>
                                        <td>Repaired motor</td>
                                        <td>$200</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>Equipment3</td>
                                        <td>2024-03-01</td>
                                        <td>Preventive</td>
                                        <td>Performed routine inspection</td>
                                        <td>$50</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>Equipment4</td>
                                        <td>2024-04-01</td>
                                        <td>Corrective</td>
                                        <td>Replaced battery</td>
                                        <td>$150</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>Equipment5</td>
                                        <td>2024-05-01</td>
                                        <td>Preventive</td>
                                        <td>Checked wiring</td>
                                        <td>$75</td>
                                    </tr>
                                </tbody>                                
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        
            <div class="row">
                <!-- Cards -->
                <div class="col-md-4 col-lg-4 d-flex">
                    <div class="box">
                        <h4>Usage Statistics</h4>
                        <div class="row cardrow">
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Total Quantity Borrowed:</p>
                                        <p class="card-text"><br><span id="total-qty"></span></p>                                        
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Average Duration of Borrowing:</p>
                                        <p class="card-text"><br><span id="avg-duration"></span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Total Duration of Borrowing</p>
                                        <p class="card-text"><br><span id="total-dur"></span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Last Time Used</p>
                                        <p class="card-text"><br><span id="lastdate"></span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Maximum Time Borrowed</p>
                                        <p class="card-text"><br><span id="max-dur"></span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Minimum Time Borrowed</p>
                                        <p class="card-text"><br><span id="min-dur"></span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="col-md-4 col-lg-4 d-flex">
                    <div class="box">
                        <h4>Other Statistics</h4>
                        <div class="row cardrow">
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Correlation Value</p>
                                        <p class="card-text"><br><span id="correlation"></span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Outlier Value</p>
                                        <p class="card-text"><br><span id="outliers"></span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title"></p>
                                        <p class="card-text"><br><span id="correlationExplanation"></span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title"></p>
                                        <p class="card-text"><br><span id="outliersExplanation"></span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
                <div class="col-md-4 col-lg-4 d-flex">
                    <div class="box">
                        <h4>Predictive Maintenance</h4>
                        <div class="row cardrow d-flex">
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Predicted Next Failure</p>
                                        <p class="card-text"><br>...</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Suggested Preventive Actions</p>
                                        <p class="card-text"><br>...</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 d-flex">
                                <div class="card bg-primary equipcard">
                                    <div class="card-body">
                                        <p class="card-title">Confidence Level</p>
                                        <p class="card-text"><br>...</p>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
        
            </div>
        
            <div class="row">
                <div class="col-4 tribox d-flex">
                    <div class="box">
                    </div>
                </div>
            </div>
        </div>
        
      </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="{{ url_for('static', filename='js/selecteq.js') }}"></script>
  {% endblock %}
</body>
</html>
    